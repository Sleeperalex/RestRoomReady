<!DOCTYPE html>

<html>
<head>
    <title>Rest Room Ready</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="black-box-top"></div>
    <header>Rest Room Ready</header>
    <div id="map-canvas">
    </div>
    <button id="showToilets">
        <span class="button-icon">></span>
        <span class="button-text">Afficher les toilettes</span>
    </button>


    <script>
        fetch('config.json')
            .then(response => response.json())
            .then(config => {
                if (config.api_map === true) {
                    fetch('apikey.txt')
                        .then(response => response.text())
                        .then(apiKey => {
                            const script = document.createElement('script');
                            script.src = `https://maps.googleapis.com/maps/api/js?key=${apiKey.trim()}&callback=initMap`;
                            script.async = true;
                            script.defer = true;
                            document.head.appendChild(script);
                        })
                        .catch(error => console.error('Error loading the API key:', error));
                }
            })
            .catch(error => console.error('Error loading the config:', error));

            document.addEventListener('DOMContentLoaded', function() {
    var button = document.getElementById('showToilets');
    button.addEventListener('click', function() {
        loadLocations(); // Charge les marqueurs sur la carte déjà initialisée
    });
});
    </script>

    <div class="green-box-left"></div>
    <div class="bottom-bar"></div>
    <div class="green-box-bottom"></div>
    <div class="green-box-right"></div>
    <script src="main.js"></script>
</body>
</html>

